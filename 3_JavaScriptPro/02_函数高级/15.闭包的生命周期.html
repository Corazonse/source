<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
<!--
    闭包的生命周期
        产生：执行完函数定义执行就产生了(不是调用)

        死亡：在嵌套的内部函数成为垃圾对象时死亡



 -->

<script>

    function fn1() {
        // 此时闭包已经产生了（函数提升，内部函数对象已经创建了）
        var a = 2

        function fn2() {
            a++
            console.log(a)
        }

        // var fn3 = function fn2() { -----这里到定义31行才产生闭包
        //     a++
        //     console.log(a)
        // }
        return fn2 //将函数作为返回值方便 f()操作
    }

    var f = fn1() //首次创建 f引用f2所以f2不会成为垃圾对象
    f()//3 执行一次
    f()//4  执行二次

    f = null// 函数死亡 包含闭包的函数对象成为了垃圾对象
</script>

</body>

</html>